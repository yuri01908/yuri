<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <title>ã‚¢ãƒªã‚¹ToDo</title>
  <style>
    body {
      font-family: sans-serif;
      background: #f6f2ff;
      padding: 20px;
    }
    h1 { color: #6b4eff; }
    .todo { margin: 8px 0; }
    .rabbit {
      margin-top: 15px;
      padding: 10px;
      background: #fff;
      border-left: 5px solid #6b4eff;
    }
    .story {
      margin-top: 20px;
      padding: 15px;
      background: #fff;
      display: none;
    }
  </style>
</head>
<body>

<h1>ğŸ‡ ã‚¢ãƒªã‚¹ToDoãƒªã‚¹ãƒˆ</h1>

<p>ToDoã¯3ã€œ5å€‹ã¾ã§è¨­å®šã—ã¦ãã ã•ã„</p>
<div id="todoList"></div>

<button onclick="checkStory()">ç‰©èªã‚’èª­ã‚€</button>

<div class="rabbit" id="rabbitMessage">
  ç™½ã†ã•ãã€Œä»Šæ—¥ã¯ã¾ã å§‹ã¾ã£ãŸã°ã‹ã‚Šã ã‚ˆï¼ã€
</div>

<div class="story" id="story">
  <h2>ğŸ“– ä¸æ€è­°ã®å›½ã®ã‚¢ãƒªã‚¹</h2>
  <p>
    ã‚¢ãƒªã‚¹ã¯é‡åŸã§ã†ã¨ã†ã¨ã—ã¦ã„ã‚‹ã¨ã€  
    ãƒãƒ§ãƒƒã‚­ã‚’ç€ãŸç™½ã†ã•ããŒé§†ã‘ã¦ã„ãã®ã‚’è¦‹ã¾ã—ãŸâ€•â€•ã€‚
  </p>
</div>

<script>
  const todos = [
    { text: "æœèµ·ãã‚‹", done: false },
    { text: "æœºã‚’ç‰‡ä»˜ã‘ã‚‹", done: false },
    { text: "ä»Šæ—¥ã®äºˆå®šã‚’æ›¸ã", done: false }
  ];

  const praises = [
    "ã™ã”ã„ã‚ˆï¼æ™‚é–“é€šã‚Šã ï¼",
    "ãã®èª¿å­ã€ãã®èª¿å­ï¼",
    "æ€¥ãŒãªã„ã¨ï¼ã§ã‚‚ç«‹æ´¾ã ã‚ˆï¼",
    "å›ãªã‚‰ã§ãã‚‹ã¨æ€ã£ã¦ãŸï¼"
  ];

  const todoList = document.getElementById("todoList");
  const rabbitMessage = document.getElementById("rabbitMessage");

  function renderTodos() {
    todoList.innerHTML = "";
    todos.forEach((todo, index) => {
      const div = document.createElement("div");
      div.className = "todo";

      const checkbox = document.createElement("input");
      checkbox.type = "checkbox";
      checkbox.checked = todo.done;

      checkbox.onchange = () => {
        todo.done = checkbox.checked;
        if (todo.done) {
          const praise = praises[Math.floor(Math.random() * praises.length)];
          rabbitMessage.textContent = `ğŸ‡ ç™½ã†ã•ãã€Œ${praise}ã€`;
        }
      };

      div.appendChild(checkbox);
      div.appendChild(document.createTextNode(" " + todo.text));
      todoList.appendChild(div);
    });
  }

  function checkStory() {
    const allDone = todos.every(t => t.done);
    const story = document.getElementById("story");

    if (allDone) {
      story.style.display = "block";
      rabbitMessage.textContent = "ğŸ‡ ç™½ã†ã•ãã€Œç´„æŸé€šã‚Šã€ç‰©èªã®ç¶šãã ã‚ˆï¼ã€";
    } else {
      alert("âš ï¸ ä»Šæ—¥ã®ToDoã‚’ã™ã¹ã¦é”æˆã—ãªã„ã¨ç‰©èªã¯èª­ã‚ã¾ã›ã‚“ï¼");
    }
  }

  renderTodos();
</script>

</body>
</html>
